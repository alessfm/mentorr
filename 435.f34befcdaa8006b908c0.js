(self.webpackChunkmentorr=self.webpackChunkmentorr||[]).push([[435],{5030:(t,n,e)=>{"use strict";e.d(n,{W:()=>P});var r=e(1041),i=e(2342),o=e(7368),a=e(9875),s=e(5634),c=e(2010),l=e(6949),u=e(1116),g=e(3704),d=e(9709),p=e(6059),m=e(4662),f=e(6745);function h(t,n){if(1&t&&(o.TgZ(0,"div",11),o.TgZ(1,"div",12),o.TgZ(2,"div",13),o.TgZ(3,"label",14),o._uU(4),o.qZA(),o.TgZ(5,"textarea",15),o._uU(6,"          "),o.qZA(),o._UZ(7,"app-contar-letras",16),o.qZA(),o.qZA(),o.qZA()),2&t){const t=o.oxw();o.xp6(1),o.Q6J("formGroup",t.form),o.xp6(3),o.hij("Envie uma reposta para ",null==t.mentoria?null:t.mentoria.nomeAluno,":"),o.xp6(3),o.Q6J("form",t.form)("tamanhoMaximo",1e3)}}function x(t,n){1&t&&(o.TgZ(0,"div",17),o.TgZ(1,"div",18),o.TgZ(2,"label",19),o._uU(3,"Carregando..."),o.qZA(),o._UZ(4,"input",20),o.qZA(),o.qZA())}const A=function(t){return{show:t}};let Z=(()=>{class t{constructor(t,n,e,o,a,s){this.cookiesService=t,this.domService=n,this.formBuilder=e,this.formService=o,this.mensagemService=a,this.mentoriasMentorService=s,this.carregar=new i.g,this.mentoria=null,this.mostrarModal=!1,this.form=this.formBuilder.group({status:[null,r.kI.required],corpo:[null,[r.kI.required,r.kI.maxLength(1e3)]]})}abrirModal(t,n){this.mentoria=t,this.form.patchValue({status:n}),this.mostrarModal=!0}fecharModal(){this.mostrarModal=!1,this.mentoria=null,this.form.reset()}enviar(){this.formService.validarFormEChamarFuncao(this.form),this.mentoriasMentorService.alterarStatus(this.mentoria.id,this.form.value,this.carregar).subscribe(()=>{this.mensagemService.popupSucesso("Mentoria atualizada!","Recarregando..."),setTimeout(()=>this.domService.recarregar(),500)})}get usuario(){const t=this.cookiesService.usuario;return t?Object.assign(Object.assign({},t),{nome:t.nome.split(" ")[0]}):null}}return t.\u0275fac=function(n){return new(n||t)(o.Y36(a.F),o.Y36(g.T),o.Y36(r.qu),o.Y36(d.o),o.Y36(p.w),o.Y36(c.Y))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-modal-troca-status"]],decls:14,vars:5,consts:[[1,"modal",3,"ngClass"],[1,"modal-content"],[1,"modal-header"],[1,"text-lg","md:text-2xl","font-bold"],[1,"text-primary"],[1,"bg-slate-200","btn",3,"click"],[1,"fa-solid","fa-close"],["class","modal-body",4,"ngIf","ngIfElse"],[1,"modal-footer"],["label","Enviar",3,"click"],["carregando",""],[1,"modal-body"],[1,"textarea",3,"formGroup"],[1,"form-group"],["required","",1,"font-semibold","text-md"],["rows","12","formControlName","corpo","maxlength","1000",1,"form-control"],["campo","corpo",3,"form","tamanhoMaximo"],[1,"form"],[1,"form-group","fade-in-out"],[1,"font-light"],["type","text","readonly","",1,"form-control"]],template:function(t,n){if(1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.TgZ(3,"h1",3),o.TgZ(4,"span",4),o._uU(5,"Alterar status"),o.qZA(),o._uU(6," da mentoria "),o.qZA(),o.TgZ(7,"button",5),o.NdJ("click",function(){return n.fecharModal()}),o._UZ(8,"em",6),o.qZA(),o.qZA(),o.YNc(9,h,8,4,"div",7),o.TgZ(10,"div",8),o.TgZ(11,"app-botao-azul",9),o.NdJ("click",function(){return n.enviar()}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.YNc(12,x,5,0,"ng-template",null,10,o.W1O)),2&t){const t=o.MAs(13);o.Q6J("ngClass",o.VKq(3,A,n.mostrarModal)),o.xp6(9),o.Q6J("ngIf",!n.carregar.load)("ngIfElse",t)}},directives:[u.mk,u.O5,m.h,r.JL,r.sg,r.Fj,r.JJ,r.u,r.nD,f.z],styles:[".textarea[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column;grid-gap:1.5rem;gap:1.5rem;padding:1.5rem}@media (min-width:768px){.textarea[_ngcontent-%COMP%]{padding:0 1.5rem}}"]}),t})();const v=["modal"];function w(t,n){1&t&&(o.ynx(0),o.TgZ(1,"span"),o._UZ(2,"i",24),o.qZA(),o.BQk())}function b(t,n){1&t&&(o.ynx(0),o.TgZ(1,"span"),o._UZ(2,"i",25),o.qZA(),o.BQk())}function q(t,n){1&t&&(o.ynx(0),o.TgZ(1,"span"),o._UZ(2,"i",26),o.qZA(),o.BQk())}function T(t,n){1&t&&(o.ynx(0),o.TgZ(1,"span"),o._UZ(2,"i",27),o.qZA(),o.BQk())}function M(t,n){1&t&&(o.ynx(0),o.TgZ(1,"span"),o._UZ(2,"i",28),o.qZA(),o.BQk())}const C=function(t){return{"fundo-azul":t}};function S(t,n){if(1&t){const t=o.EpF();o.ynx(0),o.TgZ(1,"div",12),o.NdJ("click",function(){const n=o.CHM(t).$implicit;return o.oxw(2).buscarDadosMentoria(n)}),o.TgZ(2,"div",13),o.TgZ(3,"div",14),o.TgZ(4,"div",15),o._UZ(5,"img",16),o.qZA(),o.TgZ(6,"div",17),o.TgZ(7,"h3",18),o._uU(8),o.qZA(),o.TgZ(9,"p",19),o._UZ(10,"i",20),o.TgZ(11,"span",21),o._uU(12),o.ALo(13,"currency"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.TgZ(14,"div",22),o.YNc(15,w,3,0,"ng-container",23),o.YNc(16,b,3,0,"ng-container",23),o.YNc(17,q,3,0,"ng-container",23),o.YNc(18,T,3,0,"ng-container",23),o.YNc(19,M,3,0,"ng-container",23),o.qZA(),o.qZA(),o.qZA(),o.BQk()}if(2&t){const t=n.$implicit,e=o.oxw(2);o.xp6(1),o.Q6J("ngClass",o.VKq(13,C,(null==t?null:t.id)===e.idMentoria)),o.xp6(4),o.Q6J("src",(null==t?null:t.fotoMentor)||"assets/images/avatar.svg",o.LSH),o.xp6(3),o.hij(" ",(null==t?null:t.nomeAluno)||(null==t?null:t.nomeMentor)," "),o.xp6(4),o.AsE(" Plano ",t.plano.descricaoTipo," (",o.lcZ(13,11,t.plano.valor),"/m\xeas) "),o.xp6(2),o.Q6J("ngSwitch",t.status),o.xp6(1),o.Q6J("ngSwitchCase","SOLICITADA"),o.xp6(1),o.Q6J("ngSwitchCase","RECUSADA"),o.xp6(1),o.Q6J("ngSwitchCase","ATIVA"),o.xp6(1),o.Q6J("ngSwitchCase","PAUSADA"),o.xp6(1),o.Q6J("ngSwitchCase","FINALIZADA")}}function y(t,n){if(1&t&&(o.TgZ(0,"div",10),o.YNc(1,S,20,15,"ng-container",11),o.qZA()),2&t){const t=o.oxw();o.xp6(1),o.Q6J("ngForOf",t.mentorias)}}function U(t,n){if(1&t){const t=o.EpF();o.ynx(0),o.TgZ(1,"a",41),o.NdJ("click",function(){return o.CHM(t),o.oxw(3).abrirModal("ATIVA")}),o._uU(2,"Aceitar"),o.qZA(),o.TgZ(3,"a",41),o.NdJ("click",function(){return o.CHM(t),o.oxw(3).abrirModal("RECUSADA")}),o._uU(4,"Recusar"),o.qZA(),o.BQk()}}function _(t,n){if(1&t){const t=o.EpF();o.ynx(0),o.TgZ(1,"a",41),o.NdJ("click",function(){return o.CHM(t),o.oxw(3).abrirModal("PAUSADA")}),o._uU(2,"Pausar"),o.qZA(),o.TgZ(3,"a",41),o.NdJ("click",function(){return o.CHM(t),o.oxw(3).abrirModal("FINALIZADA")}),o._uU(4,"Finalizar"),o.qZA(),o.BQk()}}function k(t,n){if(1&t){const t=o.EpF();o.ynx(0),o.TgZ(1,"a",41),o.NdJ("click",function(){return o.CHM(t),o.oxw(3).abrirModal("ATIVA")}),o._uU(2,"Reativar"),o.qZA(),o.TgZ(3,"a",41),o.NdJ("click",function(){return o.CHM(t),o.oxw(3).abrirModal("FINALIZADA")}),o._uU(4,"Finalizar"),o.qZA(),o.BQk()}}const J=function(t){return{show:t}};function N(t,n){if(1&t){const t=o.EpF();o.TgZ(0,"div",36),o.TgZ(1,"a",37),o.NdJ("click",function(){o.CHM(t);const n=o.oxw(2);return n.mostrarDrop=!n.mostrarDrop}),o._UZ(2,"i",38),o._uU(3," A\xe7\xf5es da mentoria "),o.qZA(),o.TgZ(4,"div",39),o.TgZ(5,"div",40),o.YNc(6,U,5,0,"ng-container",23),o.YNc(7,_,5,0,"ng-container",23),o.YNc(8,k,5,0,"ng-container",23),o.qZA(),o.qZA(),o.qZA()}if(2&t){const t=o.oxw(2);o.xp6(4),o.Q6J("ngClass",o.VKq(5,J,t.mostrarDrop)),o.xp6(1),o.Q6J("ngSwitch",null==t.mentoriaAberta?null:t.mentoriaAberta.status),o.xp6(1),o.Q6J("ngSwitchCase","SOLICITADA"),o.xp6(1),o.Q6J("ngSwitchCase","ATIVA"),o.xp6(1),o.Q6J("ngSwitchCase","PAUSADA")}}function Q(t,n){if(1&t&&(o.ynx(0),o.TgZ(1,"div",42),o.TgZ(2,"div",13),o.TgZ(3,"div",14),o.TgZ(4,"div",15),o._UZ(5,"img",43),o.qZA(),o.TgZ(6,"div",17),o.TgZ(7,"span",44),o._uU(8),o.ALo(9,"date"),o.qZA(),o.TgZ(10,"p",45),o._uU(11),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.BQk()),2&t){const t=n.$implicit,e=o.oxw(2);o.xp6(1),o.Q6J("ngClass",o.VKq(8,C,(null==t?null:t.apelidoUsuario)===(null==e.usuario?null:e.usuario.apelido))),o.xp6(4),o.Q6J("src",(null==t?null:t.fotoUsuario)||"assets/images/avatar.svg",o.LSH),o.xp6(3),o.AsE(" ",null==t?null:t.nomeUsuario," - ",o.xi3(9,5,null==t?null:t.criadaEm,"short")," "),o.xp6(3),o.Oqu(null==t?null:t.corpo)}}function I(t,n){1&t&&(o.TgZ(0,"div",34),o._UZ(1,"input",46),o.qZA())}function Y(t,n){if(1&t){const t=o.EpF();o.ynx(0),o.TgZ(1,"div",29),o.TgZ(2,"h2",2),o._uU(3),o.qZA(),o.YNc(4,N,9,7,"div",30),o.qZA(),o.TgZ(5,"div",10),o.YNc(6,Q,12,10,"ng-container",11),o.TgZ(7,"div",31),o.NdJ("ngSubmit",function(){return o.CHM(t),o.oxw().responder()}),o.YNc(8,I,2,0,"div",32),o.qZA(),o.TgZ(9,"div",33),o.TgZ(10,"div",34),o.TgZ(11,"app-botao-azul",35),o.NdJ("func",function(){return o.CHM(t),o.oxw().responder()}),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o.BQk()}if(2&t){const t=o.oxw(),n=o.MAs(13);o.xp6(3),o.hij(" Chat com ",(null==t.mentoriaAberta?null:t.mentoriaAberta.nomeAluno)||(null==t.mentoriaAberta?null:t.mentoriaAberta.nomeMentor)," "),o.xp6(1),o.Q6J("ngIf","ALUNOS"===t.lista),o.xp6(2),o.Q6J("ngForOf",null==t.mentoriaAberta?null:t.mentoriaAberta.mensagens),o.xp6(1),o.Q6J("formGroup",t.form),o.xp6(1),o.Q6J("ngIf",t.podeDigitar)("ngIfElse",n)}}function O(t,n){1&t&&(o.TgZ(0,"p",47),o._uU(1,"Nenhuma mentoria encontrada"),o.qZA())}function L(t,n){1&t&&(o.TgZ(0,"h3",2),o._uU(1,"Chat"),o.qZA(),o.TgZ(2,"p",48),o._uU(3,"Selecione um mentor para visualizar"),o.qZA())}function F(t,n){1&t&&(o.ynx(0),o._UZ(1,"input",50),o.BQk())}function E(t,n){1&t&&(o.ynx(0),o._UZ(1,"input",51),o.BQk())}function D(t,n){1&t&&(o.ynx(0),o._UZ(1,"input",52),o.BQk())}function B(t,n){if(1&t&&(o.TgZ(0,"div",49),o.YNc(1,F,2,0,"ng-container",23),o.YNc(2,E,2,0,"ng-container",23),o.YNc(3,D,2,0,"ng-container",23),o.qZA()),2&t){const t=o.oxw();o.Q6J("ngSwitch",null==t.mentoriaAberta?null:t.mentoriaAberta.status),o.xp6(1),o.Q6J("ngSwitchCase","SOLICITADA"),o.xp6(1),o.Q6J("ngSwitchCase","RECUSADA"),o.xp6(1),o.Q6J("ngSwitchCase","FINALIZADA")}}let P=(()=>{class t{constructor(t,n,e,o,a){this.cookiesService=t,this.formBuilder=n,this.mentoriasAlunoService=e,this.mentoriasMentorService=o,this.mensagensMentoriaService=a,this.lista="ALUNOS",this.carregar=new i.g,this.mentorias=[],this.mostrarDrop=!1,this.form=this.formBuilder.group({corpo:[null,[r.kI.required,r.kI.maxLength(1e3)]]})}ngOnInit(){this.buscarMentorias()}buscarMentorias(){this.mentoriaService.getList(this.carregar).subscribe(t=>this.mentorias=t)}buscarDadosMentoria(t){this.mentoriaAberta=t,this.buscarMensagens()}buscarMensagens(){this.form.reset(),this.mensagensMentoriaService.buscarTodas(this.idMentoria,this.carregar).subscribe(t=>this.mentoriaAberta.mensagens=t)}responder(){this.form.patchValue({corpo:this.form.value.corpo.trim()}),this.mensagensMentoriaService.enviar(this.idMentoria,this.form.value,this.carregar).subscribe(()=>this.buscarMensagens())}abrirModal(t){this.modal.abrirModal(this.mentoriaAberta,t)}get idMentoria(){return this.mentoriaAberta?this.mentoriaAberta.id:null}get podeDigitar(){return!!this.mentoriaAberta&&["ATIVA","PAUSADA"].includes(this.mentoriaAberta.status)}get mentoriaService(){switch(this.lista){case"MENTORES":return this.mentoriasAlunoService;case"ALUNOS":return this.mentoriasMentorService;default:return this.mentoriasAlunoService}}get usuario(){return this.cookiesService.usuario}}return t.\u0275fac=function(n){return new(n||t)(o.Y36(a.F),o.Y36(r.qu),o.Y36(s.r),o.Y36(c.Y),o.Y36(l.$))},t.\u0275cmp=o.Xpm({type:t,selectors:[["app-gestao-mentorias"]],viewQuery:function(t,n){if(1&t&&o.Gf(v,5),2&t){let t;o.iGM(t=o.CRH())&&(n.modal=t.first)}},inputs:{lista:"lista"},decls:16,vars:7,consts:[[1,"flex","flex-col","md:flex-row"],[1,"section"],[1,"font-bold","text-xl","md:text-2xl"],["class","grid grid-cols-1 gap-6",4,"ngIf","ngIfElse"],[1,"main"],[4,"ngIf","ngIfElse"],["semMentorias",""],["selecioneChat",""],["campoBloqueado",""],["modal",""],[1,"grid","grid-cols-1","gap-6"],[4,"ngFor","ngForOf"],[1,"card","cursor-pointer",3,"ngClass","click"],[1,"flex","justify-between"],[1,"flex","gap-4"],[1,"flex-none","relative"],["alt","Foto","loading","lazy",1,"w-12","rounded-lg",3,"src"],[1,"flex","flex-col","gap-1"],[1,"font-bold","text-slate-900","text-xl"],[1,"text-gray-600"],[1,"fa-solid","fa-clipboard-list","text-primary"],[1,"text-gray-800"],[1,"flex","gap-1",3,"ngSwitch"],[4,"ngSwitchCase"],[1,"fa-2x","fa-solid","fa-circle-question","text-primary"],[1,"fa-2x","fa-solid","fa-circle-xmark","text-red"],[1,"fa-2x","fa-solid","fa-circle-play","text-green"],[1,"fa-2x","fa-solid","fa-circle-pause","text-yellow"],[1,"fa-2x","fa-solid","fa-circle-check","text-green"],[1,"flex","flex-col","gap-4","md:flex-row","justify-between","items-center"],["class","drop",4,"ngIf"],[1,"col-span-1",3,"formGroup","ngSubmit"],["class","form-group",4,"ngIf","ngIfElse"],[1,"col-span-1"],[1,"form-group"],["estilo","w-full","type","submit","label","Enviar",3,"func"],[1,"drop"],[1,"drop-btn","cursor-pointer",3,"click"],[1,"fa-solid","fa-chevron-down"],[1,"dropdown",3,"ngClass"],[3,"ngSwitch"],[3,"click"],[1,"card","border-none",3,"ngClass"],["alt","Foto","loading","lazy",1,"w-4","rounded-lg",3,"src"],[1,"font-light","text-slate-900","text-sm"],[1,"whitespace-break-spaces","text-gray-600","text-md","mt-2"],["type","text","placeholder","Digite...","formControlName","corpo",1,"form-control"],[1,"text-gray-800","text-lg"],[1,"text-gray-800","text-lg","text-center"],[1,"form-group",3,"ngSwitch"],["type","text","placeholder","Mentoria solicitada. Aguarde a resposta do mentor.","disabled","",1,"form-control"],["type","text","placeholder","A solicita\xe7\xe3o de mentoria foi recusada pelo mentor.","disabled","",1,"form-control"],["type","text","placeholder","A mentoria foi finalizada.","disabled","",1,"form-control"]],template:function(t,n){if(1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"h2",2),o._uU(3),o.ALo(4,"titlecase"),o.qZA(),o.YNc(5,y,2,1,"div",3),o.qZA(),o.TgZ(6,"div",4),o.YNc(7,Y,12,6,"ng-container",5),o.qZA(),o.qZA(),o.YNc(8,O,2,0,"ng-template",null,6,o.W1O),o.YNc(10,L,4,0,"ng-template",null,7,o.W1O),o.YNc(12,B,4,4,"ng-template",null,8,o.W1O),o._UZ(14,"app-modal-troca-status",null,9)),2&t){const t=o.MAs(9),e=o.MAs(11);o.xp6(3),o.Oqu(o.lcZ(4,5,n.lista)),o.xp6(2),o.Q6J("ngIf",n.mentorias.length)("ngIfElse",t),o.xp6(2),o.Q6J("ngIf",n.mentoriaAberta)("ngIfElse",e)}},directives:[u.O5,Z,u.sg,u.mk,u.RF,u.n9,r.JL,r.sg,m.h,r.Fj,r.JJ,r.u],pipes:[u.rS,u.H9,u.uU],styles:[".section[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column;grid-gap:2rem;gap:2rem;border-right-width:2px;padding:2rem}@media (min-width:768px){.section[_ngcontent-%COMP%]{width:33.333333%}}.card[_ngcontent-%COMP%]{display:flex;flex-direction:column;grid-gap:1.5rem;gap:1.5rem;border-radius:.5rem;border-width:1px;--tw-border-opacity:1;border-color:rgb(209 213 219/var(--tw-border-opacity,1));padding:.5rem}.card[_ngcontent-%COMP%]:hover{--tw-shadow:0 1px 3px 0 #0000001a,0 1px 2px -1px #0000001a;--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color),0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}@media (min-width:768px){.card[_ngcontent-%COMP%]{padding:1.5rem}}.main[_ngcontent-%COMP%]{display:flex;width:100%;flex-direction:column;grid-gap:2rem;gap:2rem;padding:2rem}@media (min-width:768px){.main[_ngcontent-%COMP%]{width:66.666667%}}.fundo-azul[_ngcontent-%COMP%]{border-width:1px;--tw-border-opacity:1;border-color:rgb(37 99 235/var(--tw-border-opacity,1));--tw-bg-opacity:1;background-color:rgb(243 244 246/var(--tw-bg-opacity,1))}.w-12[_ngcontent-%COMP%]{width:6rem}.w-4[_ngcontent-%COMP%]{width:2rem}.fa-2x[_ngcontent-%COMP%]{font-size:1.5em}.border-none[_ngcontent-%COMP%]{border:none}"]}),t})()},4992:(t,n,e)=>{"use strict";e.d(n,{o:()=>p});var r=e(1116),i=e(1041),o=e(1857),a=e(4998),s=e(6743),c=e(5634),l=e(2010),u=e(6949),g=e(7368);const d={show:!1,bgBlur:7,bgOpacity:.7,bgColor:"#fff",spinnerSize:180,spinnerColor:"#026df9",spinnerType:o.aS.wanderingCubes,spinnerPosition:o.Vr.centerCenter};let p=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=g.oAB({type:t}),t.\u0275inj=g.cJS({providers:[c.r,l.Y,u.$],imports:[[a.h,r.ez,s.e,i.UX,o.qM.forRoot(d)]]}),t})()},6949:(t,n,e)=>{"use strict";e.d(n,{$:()=>a});var r=e(1691),i=e(7368),o=e(2693);let a=(()=>{class t extends r.M{constructor(t){super("api/mentorias",t)}buscarTodas(t,n){return this.startLoading(n),this.getHttpClient().get(`${this.api}/${t}/mensagens`).pipe(this.configMapAndLoading(n))}enviar(t,n,e){return this.startLoading(e),this.getHttpClient().post(`${this.api}/${t}/mensagens`,n).pipe(this.configMapAndLoading(e))}}return t.\u0275fac=function(n){return new(n||t)(i.LFG(o.eN))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})()},2010:(t,n,e)=>{"use strict";e.d(n,{Y:()=>a});var r=e(1691),i=e(7368),o=e(2693);let a=(()=>{class t extends r.M{constructor(t){super("api/mentor/mentorias",t)}alterarStatus(t,n,e){return this.startLoading(e),this.getHttpClient().put(`${this.api}/${t}`,n).pipe(this.configMapAndLoading(e))}}return t.\u0275fac=function(n){return new(n||t)(i.LFG(o.eN))},t.\u0275prov=i.Yz7({token:t,factory:t.\u0275fac}),t})()}}]);